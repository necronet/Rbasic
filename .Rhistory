summarise(mean = mean(AveragePrice)) %>%
arrange(desc(mean)) %>% head(10)
d
ggplot(d, aes(x=region,y=mean)) + geom_bar(stat="identity")
d <- avocado_data_with_coords %>% filter(year==2016) %>%
mutate(region=factor(region)) %>%
group_by(region, year) %>%
summarise(mean = mean(AveragePrice)) %>%
arrange(desc(mean)) %>% head(10)
d <- avocado_data_with_coords %>% filter(year==2016) %>%
mutate(region=factor(region)) %>%
group_by(region, year) %>%
summarise(mean = mean(AveragePrice)) %>%
arrange(desc(mean)) %>% head(10)
ggplot(d, aes(x=region,y=mean)) + geom_bar(stat="identity")
d <- avocado_data_with_coords %>% filter(year==2017) %>%
mutate(region=factor(region)) %>%
group_by(region, year) %>%
summarise(mean = mean(AveragePrice)) %>%
arrange(desc(mean)) %>% head(10)
ggplot(d, aes(x=region,y=mean)) + geom_bar(stat="identity")
avocado_data_with_coords$year
min(avocado_data_with_coords$year)
max(avocado_data_with_coords$year)
min(avocado_data_with_coords$year):max(avocado_data_with_coords$year)
ggplot(d, aes(x=region,y=mean)) +
geom_bar(stat="identity") +
theme(axis.text.x = element_text(angle = 90, hjust = 1))
ggplot(d, aes(x=region,y=mean)) +
geom_bar(stat="identity") +
theme(axis.text.x = element_text(angle = 90, hjust = 1)) +
xlabel("Region") + ylabel("Average Price")
ggplot(d, aes(x=region,y=mean)) +
geom_bar(stat="identity") +
theme(axis.text.x = element_text(angle = 90, hjust = 1)) +
xlab("Region") + ylab("Average Price")
d <- avocado_data_with_coords %>% filter(year==2015) %>%
mutate(region=factor(region)) %>%
group_by(region, year) %>%
summarise(mean = mean(AveragePrice)) %>%
arrange(desc(mean)) %>% head(10)
ggplot(d, aes(x=region,y=mean)) +
geom_bar(stat="identity") +
theme(axis.text.x = element_text(angle = 90, hjust = 1)) +
xlab("Region") + ylab("Average Price")
ggplot(d, aes(x=reorder(region, mean),y=mean)) +
geom_bar(stat="identity") +
theme(axis.text.x = element_text(angle = 90, hjust = 1)) +
xlab("Region") + ylab("Average Price")
d <- avocado_data_with_coords %>% filter(year==2016) %>%
mutate(region=factor(region)) %>%
group_by(region, year) %>%
summarise(mean = mean(AveragePrice)) %>%
arrange(desc(mean)) %>% head(10)
ggplot(d, aes(x=reorder(region, mean),y=mean)) +
geom_bar(stat="identity") +
theme(axis.text.x = element_text(angle = 90, hjust = 1)) +
xlab("Region") + ylab("Average Price")
d <- avocado_data_with_coords %>% filter(year==2015) %>%
mutate(region=factor(region)) %>%
group_by(region, year) %>%
summarise(mean = mean(AveragePrice)) %>%
arrange(desc(mean)) %>% head(10)
ggplot(d, aes(x=reorder(region, mean),y=mean)) +
geom_bar(stat="identity") +
theme(axis.text.x = element_text(angle = 90, hjust = 1)) +
xlab("Region") + ylab("Average Price")
d <- avocado_data_with_coords %>% filter(year==2017) %>%
mutate(region=factor(region)) %>%
group_by(region, year) %>%
summarise(mean = mean(AveragePrice)) %>%
arrange(desc(mean)) %>% head(10)
ggplot(d, aes(x=reorder(region, mean),y=mean)) +
geom_bar(stat="identity") +
theme(axis.text.x = element_text(angle = 90, hjust = 1)) +
xlab("Region") + ylab("Average Price")
min(avocado_data_with_coords$year):max(avocado_data_with_coords$year)
d <- avocado_data_with_coords %>% filter(year==2018) %>%
mutate(region=factor(region)) %>%
group_by(region, year) %>%
summarise(mean = mean(AveragePrice)) %>%
arrange(desc(mean)) %>% head(10)
ggplot(d, aes(x=reorder(region, mean),y=mean)) +
geom_bar(stat="identity") +
theme(axis.text.x = element_text(angle = 90, hjust = 1)) +
xlab("Region") + ylab("Average Price")
d <- avocado_data_with_coords %>% filter(year==2018) %>%
mutate(region=factor(region)) %>%
group_by(region, year) %>%
summarise(mean = mean(AveragePrice)) %>%
arrange(desc(mean)) %>% head(1)
d
d <- avocado_data_with_coords %>%
mutate(region=factor(region)) %>%
group_by(region, year) %>%
summarise(mean = mean(AveragePrice)) %>%
arrange(desc(mean)) %>% head(1)
d
d <- avocado_data_with_coords %>%
mutate(region=factor(region)) %>%
group_by(region, year) %>%
summarise(mean = mean(AveragePrice)) %>%
arrange(desc(mean))
d
d <- avocado_data_with_coords %>%
mutate(region=factor(region)) %>%
group_by(region, year) %>%
summarise(mean = mean(AveragePrice)) %>%
arrange(desc(year,mean))
d
d <- avocado_data_with_coords %>%
mutate(region=factor(region)) %>%
group_by(region, year) %>%
summarise(mean = mean(AveragePrice)) %>%
arrange(desc(mean,year))
d
d <- avocado_data_with_coords %>%
mutate(region=factor(region)) %>%
group_by(region, year) %>%
summarise(mean = mean(AveragePrice)) %>%
arrange(desc(mean))
d
d <- avocado_data_with_coords %>%
mutate(region=factor(region)) %>%
group_by(region, year) %>%
summarise(mean = mean(AveragePrice)) %>%
arrange(desc(mean))
d <- avocado_data_with_coords %>%
mutate(region=factor(region)) %>%
group_by(region, year) %>%
summarise(mean = mean(AveragePrice)) %>%
top_n(4,year)
avocado_data_with_coords %>%
mutate(region=factor(region)) %>%
group_by(region, year) %>%
summarise(mean = mean(AveragePrice)) %>%
top_n(4,year)
avocado_data_with_coords %>%
mutate(region=factor(region)) %>%
group_by(region, year) %>%
summarise(mean = mean(AveragePrice)) %>%
top_n(4,mean)
d <- avocado_data_with_coords %>%
mutate(region=factor(region)) %>%
group_by(region, year) %>%
summarise(mean = mean(AveragePrice)) %>%
top_n(4,mean)
arrange(desc(mean))
d <- avocado_data_with_coords %>%
mutate(region=factor(region)) %>%
group_by(region, year) %>%
summarise(mean = mean(AveragePrice)) %>%
arrange(desc(mean))
d
d <- avocado_data_with_coords %>%
mutate(region=factor(region)) %>%
group_by(region, year) %>%
summarise(mean = mean(AveragePrice)) %>%
arrange(desc(year,mean))
avocado_data_with_coords %>%
mutate(region=factor(region)) %>%
group_by(region, year) %>%
summarise(mean = mean(AveragePrice)) %>%
arrange(desc(year,mean))
d <- avocado_data_with_coords %>%
mutate(region=factor(region)) %>%
group_by(region, year) %>%
summarise(mean = mean(AveragePrice)) %>%
top_n(4)
avocado_data_with_coords %>%
mutate(region=factor(region)) %>%
group_by(region, year) %>%
summarise(mean = mean(AveragePrice)) %>%
top_n(4)
avocado_data_with_coords %>%
mutate(region=factor(region)) %>%
group_by(region, year) %>%
summarise(mean = mean(AveragePrice)) %>%
top_n(4)
avocado_data_with_coords %>%
mutate(region=factor(region)) %>%
group_by(region, year) %>%
summarise(mean = mean(AveragePrice)) %>%
top_n(4,mean)
avocado_data_with_coords %>%
mutate(region=factor(region)) %>%
group_by(region, year) %>%
summarise(mean = mean(AveragePrice)) %>%
top_n(4,region)
d <- avocado_data_with_coords %>%
mutate(region=factor(region)) %>%
group_by(year,region) %>%
summarise(mean = mean(AveragePrice)) %>%
top_n(4,region)
avocado_data_with_coords %>%
mutate(region=factor(region)) %>%
group_by(year,region) %>%
summarise(mean = mean(AveragePrice)) %>%
top_n(4,region)
avocado_data_with_coords %>%
mutate(region=factor(region)) %>%
group_by(year,region) %>%
summarise(mean = mean(AveragePrice)) %>%
top_n(4,year)
avocado_data_with_coords %>%
mutate(region=factor(region)) %>%
group_by(year,region) %>%
summarise(mean = mean(AveragePrice)) %>%
top_n(4,year)
d <- avocado_data_with_coords %>%
mutate(region=factor(region)) %>%
group_by(year,region) %>%
summarise(mean = mean(AveragePrice)) %>%
arrange(desc(year,mean,region))
avocado_data_with_coords %>%
mutate(region=factor(region)) %>%
group_by(year,region) %>%
summarise(mean = mean(AveragePrice)) %>%
arrange(desc(year,mean,region))
d <- avocado_data_with_coords %>%
mutate(region=factor(region)) %>%
group_by(year,region) %>%
summarise(mean = mean(AveragePrice)) %>%
arrange(desc(year,region,mean))
avocado_data_with_coords %>%
mutate(region=factor(region)) %>%
group_by(year,region) %>%
summarise(mean = mean(AveragePrice)) %>%
arrange(desc(year,region,mean))
d <- avocado_data_with_coords %>%
mutate(region=factor(region)) %>%
group_by(year,region) %>%
summarise(mean = mean(AveragePrice)) %>%
arrange(desc(region,year,mean))
avocado_data_with_coords %>%
mutate(region=factor(region)) %>%
group_by(year,region) %>%
summarise(mean = mean(AveragePrice)) %>%
arrange(desc(region,year,mean))
avocado_data_with_coords %>%
mutate(region=factor(region)) %>%
group_by(year,region) %>%
summarise(mean = mean(AveragePrice)) %>%
arrange(desc(year,mean))
avocado_data_with_coords %>%
mutate(region=factor(region)) %>%
group_by(year,region) %>%
summarise(mean = mean(AveragePrice)) %>%
arrange(desc(year,region,mean))
avocado_data_with_coords %>%
mutate(region=factor(region)) %>%
group_by(year,region) %>%
summarise(mean = mean(AveragePrice)) %>%
arrange(desc(mean,year,region))
avocado_data_with_coords %>%
mutate(region=factor(region)) %>%
group_by(year,region) %>%
summarise(mean = mean(AveragePrice)) %>%
arrange(desc(year,mean,region))
avocado_data_with_coords %>%
mutate(region=factor(region)) %>%
group_by(year,region) %>%
summarise(mean = mean(AveragePrice)) %>%
arrange(desc(year,region,mean))
avocado_data_with_coords %>%
mutate(region=factor(region)) %>%
group_by(year,region) %>%
summarise(mean = mean(AveragePrice)) %>%
filter(value == max(mean))
avocado_data_with_coords %>%
mutate(region=factor(region)) %>%
group_by(year,region) %>%
summarise(mean = mean(AveragePrice)) %>%
filter(mean == max(mean))
d <- avocado_data_with_coords %>%
filter(year==2015)
mutate(region=factor(region)) %>%
group_by(year,region) %>%
summarise(mean = mean(AveragePrice)) %>%
arrange(desc(region,mean))
d
d <- avocado_data_with_coords %>%
filter(year==2015)
mutate(region=factor(region)) %>%
group_by(year,region) %>%
summarise(mean = mean(AveragePrice)) %>%
arrange(desc(region,mean))
region
d <- avocado_data_with_coords %>%
filter(year==2015)
d <- avocado_data_with_coords %>%
filter(year==2015)
mutate(region=factor(region))
d <- avocado_data_with_coords %>%
filter(year==2015)
mutate(region=factor(region))
avocado_data_with_coords %>%
filter(year==2015)
mutate(region=factor(region)) %>%
group_by(year,region) %>%
summarise(mean = mean(AveragePrice)) %>%
arrange(desc(region,mean))
avocado_data_with_coords %>%
filter(year==2015)
mutate(region=factor(region)) %>%
group_by(year,region) %>%
summarise(mean = mean(AveragePrice))
avocado_data_with_coords
names(avocado_data_with_coords)
avocado_data_with_coords %>%
filter(year==2015)
mutate(region=factor("region")) %>%
group_by(year,region) %>%
summarise(mean = mean(AveragePrice))
avocado_data_with_coords %>%
filter(year==2015)
mutate(region=factor(region))
avocado_data_with_coords %>%
filter(year==2015)
avocado_data_with_coords %>%
filter(year==2015) %>% names
avocado_data_with_coords %>%
filter(year==2015)
mutate(region=factor(region))
d <- avocado_data_with_coords %>%
filter(year==2015) %>%
mutate(region=factor(region)) %>%
group_by(year,region) %>%
summarise(mean = mean(AveragePrice)) %>%
arrange(desc(region,mean))
d
d
min(avocado_data_with_coords$year):max(avocado_data_with_coords$year)
for (y in min(avocado_data_with_coords$year):max(avocado_data_with_coords$year))
print(y)
for (y in min(avocado_data_with_coords$year):max(avocado_data_with_coords$year))
d <- avocado_data_with_coords %>%
filter(year==y) %>%
mutate(region=factor(region)) %>%
group_by(year,region) %>%
summarise(mean = mean(AveragePrice)) %>%
arrange(desc(region,mean))
for (y in min(avocado_data_with_coords$year):max(avocado_data_with_coords$year)) {
dev.new()
d <- avocado_data_with_coords %>%
filter(year==y) %>%
mutate(region=factor(region)) %>%
group_by(year,region) %>%
summarise(mean = mean(AveragePrice)) %>%
arrange(desc(region,mean))
}
for (y in min(avocado_data_with_coords$year):max(avocado_data_with_coords$year)) {
dev.new()
d <- avocado_data_with_coords %>%
filter(year==y) %>%
mutate(region=factor(region)) %>%
group_by(year,region) %>%
summarise(mean = mean(AveragePrice)) %>%
arrange(desc(region,mean))
ggplot(d, aes(x=reorder(region, mean),y=mean)) +
geom_bar(stat="identity") +
theme(axis.text.x = element_text(angle = 90, hjust = 1)) +
xlab("Region") + ylab("Average Price")
}
for (y in min(avocado_data_with_coords$year):max(avocado_data_with_coords$year)) {
d <- avocado_data_with_coords %>%
filter(year==y) %>%
mutate(region=factor(region)) %>%
group_by(year,region) %>%
summarise(mean = mean(AveragePrice)) %>%
arrange(desc(region,mean))
ggplot(d, aes(x=reorder(region, mean),y=mean)) +
geom_bar(stat="identity") +
theme(axis.text.x = element_text(angle = 90, hjust = 1)) +
xlab("Region") + ylab("Average Price")
}
for (y in min(avocado_data_with_coords$year):max(avocado_data_with_coords$year)) {
d <- avocado_data_with_coords %>%
filter(year==y) %>%
mutate(region=factor(region)) %>%
group_by(year,region) %>%
summarise(mean = mean(AveragePrice)) %>%
arrange(desc(region,mean))
ggplot(d, aes(x=reorder(region, mean),y=mean)) +
geom_bar(stat="identity") +
theme(axis.text.x = element_text(angle = 90, hjust = 1)) +
ggtitle(paste('Top average prices per year ',year)) +
xlab("Region") + ylab("Average Price")
}
for (y in min(avocado_data_with_coords$year):max(avocado_data_with_coords$year)) {
d <- avocado_data_with_coords %>%
filter(year==y) %>%
mutate(region=factor(region)) %>%
group_by(year,region) %>%
summarise(mean = mean(AveragePrice)) %>%
arrange(desc(region,mean))
ggplot(d, aes(x=reorder(region, mean),y=mean)) +
geom_bar(stat="identity") +
theme(axis.text.x = element_text(angle = 90, hjust = 1)) +
ggtitle(paste('Top average prices per year ',y)) +
xlab("Region") + ylab("Average Price")
}
ggplot(d, aes(x=reorder(region, mean),y=mean)) +
geom_bar(stat="identity") +
theme(axis.text.x = element_text(angle = 90, hjust = 1)) +
ggtitle(paste('Top average prices per year ',y)) +
xlab("Region") + ylab("Average Price")
for (y in min(avocado_data_with_coords$year):max(avocado_data_with_coords$year)) {
d <- avocado_data_with_coords %>%
filter(year==y) %>%
mutate(region=factor(region)) %>%
group_by(year,region) %>%
summarise(mean = mean(AveragePrice)) %>%
arrange(desc(region,mean)) %>% head(10)
ggplot(d, aes(x=reorder(region, mean),y=mean)) +
geom_bar(stat="identity") +
theme(axis.text.x = element_text(angle = 90, hjust = 1)) +
ggtitle(paste('Top average prices per year ',y)) +
xlab("Region") + ylab("Average Price")
}
ggplot(d, aes(x=reorder(region, mean),y=mean)) +
geom_bar(stat="identity") +
theme(axis.text.x = element_text(angle = 90, hjust = 1)) +
ggtitle(paste('Top average prices per year ',y)) +
xlab("Region") + ylab("Average Price")
for (y in min(avocado_data_with_coords$year):max(avocado_data_with_coords$year)) {
d <- avocado_data_with_coords %>%
filter(year==y) %>%
mutate(region=factor(region)) %>%
group_by(year,region) %>%
summarise(mean = mean(AveragePrice)) %>%
arrange(desc(mean,region)) %>% head(10)
ggplot(d, aes(x=reorder(region, mean),y=mean)) +
geom_bar(stat="identity") +
theme(axis.text.x = element_text(angle = 90, hjust = 1)) +
ggtitle(paste('Top average prices per year ',y)) +
xlab("Region") + ylab("Average Price")
}
ggplot(d, aes(x=reorder(region, mean),y=mean)) +
geom_bar(stat="identity") +
theme(axis.text.x = element_text(angle = 90, hjust = 1)) +
ggtitle(paste('Top average prices per year ',y)) +
xlab("Region") + ylab("Average Price")
par(mfrow = c(2, 2))
for (y in min(avocado_data_with_coords$year):max(avocado_data_with_coords$year)) {
d <- avocado_data_with_coords %>%
filter(year==y) %>%
mutate(region=factor(region)) %>%
group_by(year,region) %>%
summarise(mean = mean(AveragePrice)) %>%
arrange(desc(mean,region)) %>% head(10)
ggplot(d, aes(x=reorder(region, mean),y=mean)) +
geom_bar(stat="identity") +
theme(axis.text.x = element_text(angle = 90, hjust = 1)) +
ggtitle(paste('Top average prices per year ',y)) +
xlab("Region") + ylab("Average Price")
}
ggplot(d, aes(x=reorder(region, mean),y=mean)) +
geom_bar(stat="identity") +
theme(axis.text.x = element_text(angle = 90, hjust = 1)) +
ggtitle(paste('Top average prices per year ',y)) +
xlab("Region") + ylab("Average Price")
gridExtra
install.packages('gridExtra')
require(gridExtra)
p <- list()
p <- list()
i <- 1
for (y in min(avocado_data_with_coords$year):max(avocado_data_with_coords$year)) {
p[[i]] <- avocado_data_with_coords %>%
filter(year==y) %>%
mutate(region=factor(region)) %>%
group_by(year,region) %>%
summarise(mean = mean(AveragePrice)) %>%
arrange(desc(mean,region)) %>% head(10)
i <- i + 1
}
p
ggplot(p[1], aes(x=reorder(region, mean),y=mean)) +
geom_bar(stat="identity") +
theme(axis.text.x = element_text(angle = 90, hjust = 1)) +
ggtitle(paste('Top average prices per year ',y)) +
xlab("Region") + ylab("Average Price")
ggplot(p[1], aes(x=reorder(region, mean),y=mean)) +
geom_bar(stat="identity") +
theme(axis.text.x = element_text(angle = 90, hjust = 1)) +
ggtitle(paste('Top average prices per year ',y)) +
xlab("Region") + ylab("Average Price")
ggplot(p[[1]], aes(x=reorder(region, mean),y=mean)) +
geom_bar(stat="identity") +
theme(axis.text.x = element_text(angle = 90, hjust = 1)) +
ggtitle(paste('Top average prices per year ',y)) +
xlab("Region") + ylab("Average Price")
p <- list()
i <- 1
for (y in min(avocado_data_with_coords$year):max(avocado_data_with_coords$year)) {
d <- avocado_data_with_coords %>%
filter(year==y) %>%
mutate(region=factor(region)) %>%
group_by(year,region) %>%
summarise(mean = mean(AveragePrice)) %>%
arrange(desc(mean,region)) %>% head(10)
p[[i]] <- ggplot(d, aes(x=reorder(region, mean),y=mean)) +
geom_bar(stat="identity") +
theme(axis.text.x = element_text(angle = 90, hjust = 1)) +
ggtitle(paste('Top average prices per year ',y)) +
xlab("Region") + ylab("Average Price")
i <- i + 1
}
p
do.call(grid.arrange,p)
do.call(grid.arrange,p)
